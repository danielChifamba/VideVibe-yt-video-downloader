{% extends 'base/base.html' %}

{% block content %}
{% load static %}
<style>
    #download-alert {
        opacity: 1;
        align-items: center;
        width: 60%;
    }

    #download-alert.d-none {
        opacity: 0;
        transition: opacity .3s ease-in-out;
    }
</style>

<div id="download-alert" class="alert alert-success alert-dismissable fade show d-flex d-none justify-content-between position-absolute top-0 my-2 mx-auto" role="alert">
    Download Started!
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<div class="another container">
    <a href="{% url "home" %}" class="btn bg-secondary-white black align-items-center">
        <i class="bi bi-arrow-left-circle mx-1 fw-bold"></i>
        Download Another
    </a>
</div>

<div class="col d-flex mt-3 gap-4 justify-content-center m-auto width-75">
    <img src="{{video.thumbnail}}" class="vid-thumbnail rounded-3">
    <div>
        <h4 class="fw-semibold mb-0">{{video.title}}</h4>
        <br>
        <p>{{video.description}}</p>

        <a href="{% url 'completeDownload' 'video' %}" class="btn danger-bg white w-100 my-3 rounded-pill" onclick="showAlert()" id="download">
            Download Video <i class="bi bi-film" style="padding-left: 5px;"></i>
        </a>

        <a href="{% url 'completeDownload' 'audio' %}" class="btn danger-bg white w-100 my-3 rounded-pill" onclick="showAlert()" id="download">
            Download Audio <i class="bi bi-soundwave" style="padding-left: 5px;"></i>
        </a>
    </div>
</div>
<script>
    function showAlert() {
        const alert = document.getElementById('download-alert');
        alert.classList.remove('d-none');

        setTimeout(function(){
            alert.classList.add('d-none');
        }, 3000);
    }
</script>
{% endblock content %}
